# 集群参数说明

本节介绍创建集群时需要填写的相关参数。

## 基本信息

基本信息模块主要用来配置集群的名称、Kubernetes 版本等相关信息。

| 参数            | 说明                                                         | 举例值        |
| :-------------- | :----------------------------------------------------------- | :------------ |
| 集群名称        | 【类型】必填<br />【含义】新建集群的名称。<br />【注意】集群名称不可重复。名称长度为 4—63 个字符，可以包含小写英文字母、数字和中划线（-），并以小写英文字母开头，小写英文字母或数字结尾。 | kpanda-00001  |
| 集群别名        | 【类型】选填<br />【含义】用户自定义的名称。<br />【注意】别名长度为 4—63 个字符，可以包含小写英文字母、数字和中划线（-），并以小写英文字母开头，小写英文字母或数字结尾。 | my-kpanda     |
| 被纳管          | 【类型】必填<br />【含义】当前新建的集群将基于被纳管集群创建，创建执行的日志可在被纳管集群的[操作列表内查阅](#operation)。 | father-kpanda |
| 容器运行时      | 【类型】必填<br />【含义】默认使用 containerd 运行时。有关 Docker 运行时、Kata 运行时、Gvisior 运行时的区别请参阅[如何选择运行时及版本](#)。 | containerd    |
| 容器运行时版本  | 【类型】必填<br />【含义】容器运行时的版本。不同版本之间可能存在部分差异，推荐使用系统默认版本。 | 1.6.4         |
| Kubernetes 版本 | 【类型】必填<br />【含义】新建集群的 Kubernetes 的版本。不同版本之间可能存在部分差异，推荐使用系统默认版本。 | 1.24.2        |
| 标签            | 【类型】选填<br />【含义】为集群添加标签。                   | key: value    |
| 注解            | 【类型】选填<br />【含义】为集群添加注解。                   | key: value    |
| 描述            | 【类型】选填<br />【含义】为集群添加描述信息。               | 这是一个描述  |

## 节点配置

配置节点信息之前，需要预先将所有节点登录验证的秘钥或用户名/密码设为一致。

| 参数             | 说明                                                         | 举例值    |
| ---------------- | :----------------------------------------------------------- | :-------- |
| 添加节点         | 【类型】必填<br />【含义】为集群添加节点。                   | 添加      |
| 添加节点-主机名  | 【类型】必填<br />【含义】待添加节点的名称<br />【注意】主机名长度为 4—63 个字符，可以包含小写英文字母、数字和中划线（-），并以小写英文字母开头，小写英文字母或数字结尾。 | host-01   |
| 添加节点-IP 地址 | 【类型】选填<br />【含义】输入节点的 IP 地址，用于连接和访问节点。 | 172.12.23 |
| 添加节点-角色    | 【类型】选填<br />【含义】选择节点的角色，分为 master、和 worker 两种。 | master    |
| SSH 身份认证     | 【类型】必填<br />【含义】待添加节点远程连接时统一身份认证方式，支持秘钥和用户名密码两种类型。 | 秘钥      |
| NTP 配置         | 【类型】选填<br />【含义】是否开启时间同步，默认开启。       | 开启      |
| NTP 服务器       | 【类型】选填<br />【含义】时间同步的服务器的类型，可根据使用习惯和业务场景进行选择。  |          |         |

## 网络配置

Kubean 提供了支持多种主流的网络模式，可以根据业务需要进行选择。

| 参数               | 说明                                                         | 举例值 |
| :----------------- | :----------------------------------------------------------- | :----- |
| 网络插件           | 【类型】必选<br />【含义】选择网络插件，默认为 Calico。有关不同网络插件的区别请参阅[如何选择网络插件](#)。<br />【注意】集群创建完成后不可更改。 | Calico |
| Pod CIDR           | 【类型】可选<br />【含义】Pod IP 地址范围。<br />【注意】集群创建完成后不可更改。Pod 地址段和 Service 地址段不可重复。更多详情，请参阅 [Kubernetes 集群网络规划](#)。 |        |
| Service CIDR       | 【类型】必选<br />【含义】集群 IP 地址范围。<br />【注意】集群创建完成后不可更改。Pod 地址段和 Service 地址段不可重复。更多详情，请参阅 [Kubernetes 集群网络规划](#)。 |        |
| DNS 配置           | 【类型】可选<br />【含义】开启或关闭本地 DNS 域名解析。      |        |
| 网络模式           | 【类型】可选<br />【含义】Kubernetes 底层网络模式，默认为 iptables。更多详情，请参阅 [Kubernetes 网络模式](#)。 | --     |
| 虚拟负载均衡器     | 【类型】可选<br />【含义】选择是否开启用于控制平面和 Kubernetes 服务的 Kubernetes 虚拟 IP 和负载均衡器。<br />【注意】环境需要支持 ARP 发现，如物理机，虚拟化。 | --     |
| 虚拟负载均衡器地址 | 【类型】可选<br />【含义】虚拟负载均衡器的 IP 地址。<br />【注意】必须启用虚拟负载均衡器，才能编辑此字段。 |        |         |

## 插件配置

| 参数          | 说明                                                         | 举例值        |
| :------------ | :----------------------------------------------------------- | :------------ |
| 必备插件      | 【类型】必选<br />【含义】系统默认安装的插件。               | Insight Agent |
| Insight Agent | 【类型】必选<br />【含义】用于获取集群监控相关的参数。       | --            |
| 可选插件      | 【类型】可选<br />【含义】用于获取集群监控相关的参数。更多详情，请参阅[插件配置](#)。 | Ingress       |

## 高级配置

| 参数                                  | 说明                                                         | 举例值 |
| :------------------------------------ | :----------------------------------------------------------- | :----- |
| 最大 pod 数                           | 【类型】可选<br />【含义】指定 pod 数量的上限。              |        |
| 主机标识                              | 【类型】可选<br />【含义】当节点 IP 地址不为空时，使用此字段的输入值来标识主机，而不用实际的主机名来标识主机。 |        |
| containerd 镜像仓库                   | 【类型】可选<br />【含义】如果使用在线安装模式，则不需要配置，使用默认值即可。如果使用离线安装模式，则需要输入主机、地址等参数。 |        |
| Docker 镜像仓库                       | 【类型】可选<br />【含义】如果使用在线安装不需要配置，使用默认即可，如果为默认安装，您需要输入主机地址等参数。 |        |
| 审计日志                              | 【类型】可选<br />【含义】选择是否开启 Kubernetes 审计日志，默认开启。 |        |
| 控制平面证书更新                      | 【类型】可选<br />【含义】选择是否在每个月的第一个星期一自动更新 Kubernetes 控制平面证书。 |        |
| 防火墙                                | 【类型】可选<br />【含义】是否关闭防火墙，默认关闭。         |        |
| kubelet 状态更新频率                  | 【类型】可选<br />【含义】设置 kubelet 状态的更新频率，推荐采用默认设置。 |        |
| 控制器节点监控宽限期                  | 【类型】可选<br />【含义】设置控制器节点的监控宽限期，推荐采用默认设置。 |        |
| 控制器节点监控周期                    | 【类型】可选<br />【含义】设置控制器节点的监控周期，推荐采用默认设置。 |        |
| kube-apiserver pod 容忍时间           | 【类型】可选<br />【含义】设置 kube-apiserver pod 就绪之前允许的超时时间，推荐采用默认设置。 |        |
| kube-apiserver pod 无法连接的容忍时间 | 【类型】可选<br />【含义】设置 kube-apiserver pod 无法连接时的容忍时间，推荐采用默认设置。 |        |         |
